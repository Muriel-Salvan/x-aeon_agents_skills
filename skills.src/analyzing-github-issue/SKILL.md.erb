<%= frontmatter(
  description: 'Analyzes requirements described in a GitHub issue. What this does is read the GitHub issue content and devise an implementation plan. Use this when the user is asking you to analyze a GitHub issue or get requirements from it. Use this skill also in Plan mode.',
  metadata: {
    agent: 'Plan',
    dependencies: %w[validating-production-quality]
  }
) %>

# <%= skill_goal 'Implementing a GitHub issue' %>

<% define_ordered_todo_list do -%>
  ### Get issue number (can be done during Plan mode)

  - Always use `agent: ask_followup_question` to ask the user which GitHub issue should be analyzed, unless the user already gave you this information in the prompt.

  ### Get issue requirements (can be done during Plan mode)

  - Find this skill directory path, later referenced as {skill_path}.
  - Always use `cli: ruby {skill_path}/scripts/issue_details {issue_number}` to retrieve all the details of this GitHub issue.

  Example with expected output as JSON:
  ```bash
  ruby .cline/skills/<%= skill_name %>/scripts/issue_details 29
  # => {"body":"# This is the GitHub issue body ...","comments":[],"labels":[],"number":29,"state":"OPEN","title":"This is the GitHub issue title","url":"https://github.com/my-user/my-repo/issues/29"}
  ```
  Example of an error case with a non-existing GitHub issue:
  ```bash
  ruby .cline/skills/<%= skill_name %>/scripts/issue_details 29
  # GraphQL: Could not resolve to an issue or pull request with the number of 29. (repository.issue)
  # .cline/skills/<%= skill_name %>/scripts/issue_details:9:in 'Kernel#system': Command failed with exit 1: gh issue view 29 --json=number,title,body,comments,labels,state,url (RuntimeError)
  #       from .cline/skills/<%= skill_name %>/scripts/issue_details:9:in '<main>'
  ```

  ### Come up with an implementation plan (can be done during Plan mode)

  - Always analyze the current code structure and content to understand how the GitHub issue should be implemented.
  - Always analyze all the rules that you should adhere to when implementing a task.
<% end -%>

## When to use it

- This skill can be used during Plan mode and is totally safe.
- Always use it every time the user asks you to analyze a given GitHub issue.
- Always use it every time another skill specifically mentions `skill: <%= skill_name %>`.
- Always use it every time you need to analyze a GitHub issue to gather requirements.

## Usage and code examples

Those examples are given for a Linux environment. Adapt them if you are running in a Windows environment.

### When asked to analyze a GitHub issue

If the user asked you to analyze a GitHub issue without specifying the number, this skill should perform the following commands:
```bash
# Use agent tool ask_followup_question to get the GitHub issue number from the user
ruby .cline/skills/<%= skill_name %>/scripts/issue_details 42
```

### When asked to analyze the GitHub issue number 42

If the user asked you to analyze the GitHub issue number 42, this skill should perform the following commands:
```bash
ruby .cline/skills/<%= skill_name %>/scripts/issue_details 42
```

### Example of implementation plan

```
### Current Code Structure

- `lib/my_class.rb`: Has the `debug_mode` accessor

### Implementation Plan

__Files to modify:__
- `lib/my_class.rb`
- `README.md`
- *.erb

__Changes:__

1. Create a `Logger` class within `lib/utils/logger.rb` that logs output.

2. Modify the `lib/my_class.rb` to:

   - Move existing debug logic to Logger`

### Expected Behavior

- `DEBUG=1 bundle exec bin/run` → debug mode enabled and logs visible in stdout
- `bundle exec bin/run` → debug mode disabled (current behavior)
```
